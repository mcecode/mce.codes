---
import type { ImageMetadata } from "astro";

type Props = {
	alt: string;
	class?: string;
	resize?: "up" | "down";
} & ImageMetadata;

const { resize = "" } = Astro.props;
if (resize === "down") {
	Astro.props.width = Astro.props.width * 0.25;
	Astro.props.height = Astro.props.height * 0.25;
}

const { alt, src, width, height, class: className } = Astro.props;
---

<picture optimize-media optimize-media-resize={resize} class={className}>
	<img
		{src}
		{alt}
		{width}
		{height}
		class={className}
		decoding="async"
		loading="lazy"
	/>
</picture>
